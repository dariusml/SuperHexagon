\hypertarget{_menu___scene_8hpp_source}{}\doxysection{Menu\+\_\+\+Scene.\+hpp}
\mbox{\hyperlink{_menu___scene_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/*}}
\DoxyCodeLine{2 \textcolor{comment}{ * SAMPLE SCENE}}
\DoxyCodeLine{3 \textcolor{comment}{ * Copyright © 2018+ Ángel Rodríguez Ballesteros}}
\DoxyCodeLine{4 \textcolor{comment}{ *}}
\DoxyCodeLine{5 \textcolor{comment}{ * Distributed under the Boost Software License, version  1.0}}
\DoxyCodeLine{6 \textcolor{comment}{ * See documents/LICENSE.TXT or www.boost.org/LICENSE\_1\_0.txt}}
\DoxyCodeLine{7 \textcolor{comment}{ *}}
\DoxyCodeLine{8 \textcolor{comment}{ * angel.rodriguez@esne.edu}}
\DoxyCodeLine{9 \textcolor{comment}{ */}}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include <memory>}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include <basics/Atlas>}}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include <basics/Canvas>}}
\DoxyCodeLine{14 \textcolor{preprocessor}{\#include <basics/Point>}}
\DoxyCodeLine{15 \textcolor{preprocessor}{\#include <basics/Scene>}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#include <basics/Size>}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#include <basics/Timer>}}
\DoxyCodeLine{18 }
\DoxyCodeLine{19 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_sample___scene_8hpp}{Sample\_Scene.hpp}}"{}}}
\DoxyCodeLine{20 \textcolor{preprocessor}{\#include <basics/Canvas>}}
\DoxyCodeLine{21 \textcolor{preprocessor}{\#include <basics/Director>}}
\DoxyCodeLine{22 \textcolor{preprocessor}{\#include <basics/Transformation>}}
\DoxyCodeLine{23 }
\DoxyCodeLine{24 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacehexagon_game}{hexagonGame}}}
\DoxyCodeLine{25 \{}
\DoxyCodeLine{26 }
\DoxyCodeLine{27     \textcolor{keyword}{using} basics::Atlas;}
\DoxyCodeLine{28     \textcolor{keyword}{using} basics::Timer;}
\DoxyCodeLine{29     \textcolor{keyword}{using} basics::Canvas;}
\DoxyCodeLine{30     \textcolor{keyword}{using} basics::Point2f;}
\DoxyCodeLine{31     \textcolor{keyword}{using} basics::Size2f;}
\DoxyCodeLine{32     \textcolor{keyword}{using} basics::Texture\_2D;}
\DoxyCodeLine{33     \textcolor{keyword}{using} basics::Graphics\_Context;}
\DoxyCodeLine{34 }
\DoxyCodeLine{35     \textcolor{keyword}{using namespace }basics;}
\DoxyCodeLine{36     \textcolor{keyword}{using namespace }std;}
\DoxyCodeLine{37 }
\DoxyCodeLine{38 }
\DoxyCodeLine{42     \textcolor{keyword}{class }\mbox{\hyperlink{classhexagon_game_1_1_menu___scene}{Menu\_Scene}} : \textcolor{keyword}{public} basics::Scene}
\DoxyCodeLine{43     \{}
\DoxyCodeLine{44 }
\DoxyCodeLine{48         \textcolor{keyword}{enum} State}
\DoxyCodeLine{49         \{}
\DoxyCodeLine{50             LOADING,}
\DoxyCodeLine{51             READY,}
\DoxyCodeLine{52             FINISHED,}
\DoxyCodeLine{53             ERROR}
\DoxyCodeLine{54         \};}
\DoxyCodeLine{55 }
\DoxyCodeLine{56         \textcolor{keyword}{enum} Option\_Id}
\DoxyCodeLine{57         \{}
\DoxyCodeLine{58             PLAY,}
\DoxyCodeLine{59             HELP,}
\DoxyCodeLine{60             CREDITS}
\DoxyCodeLine{61         \};}
\DoxyCodeLine{62 }
\DoxyCodeLine{63         \textcolor{keyword}{struct }Option}
\DoxyCodeLine{64         \{}
\DoxyCodeLine{65             \textcolor{keyword}{const} Atlas::Slice * slice;}
\DoxyCodeLine{66             Point2f position;}
\DoxyCodeLine{67             \textcolor{keywordtype}{float}   is\_pressed;}
\DoxyCodeLine{68         \};}
\DoxyCodeLine{69 }
\DoxyCodeLine{70         \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} number\_of\_options = 3;}
\DoxyCodeLine{71 }
\DoxyCodeLine{72     \textcolor{keyword}{private}:}
\DoxyCodeLine{73 }
\DoxyCodeLine{74         State    state;                                     }
\DoxyCodeLine{75         \textcolor{keywordtype}{bool}     suspended;                                 }
\DoxyCodeLine{76 }
\DoxyCodeLine{77         \textcolor{keywordtype}{unsigned} canvas\_width;                              }
\DoxyCodeLine{78         \textcolor{keywordtype}{unsigned} canvas\_height;                             }
\DoxyCodeLine{79 }
\DoxyCodeLine{80         Timer    timer;                                     }
\DoxyCodeLine{81 }
\DoxyCodeLine{82         Option   options[number\_of\_options];                }
\DoxyCodeLine{83 }
\DoxyCodeLine{84         std::unique\_ptr< Atlas > atlas;                     }
\DoxyCodeLine{85 }
\DoxyCodeLine{86         \textcolor{keywordtype}{bool} menuShowing;}
\DoxyCodeLine{87         \textcolor{keywordtype}{bool} optionsShowing;}
\DoxyCodeLine{88         \textcolor{keywordtype}{bool} controlsShowing;}
\DoxyCodeLine{89         std::shared\_ptr < Texture\_2D > controlsTexture;}
\DoxyCodeLine{90 }
\DoxyCodeLine{91         \textcolor{keywordtype}{bool} creditsShowing;}
\DoxyCodeLine{92         std::shared\_ptr < Texture\_2D > creditsTexture;}
\DoxyCodeLine{93 }
\DoxyCodeLine{94         \textcolor{keywordtype}{bool}     aspect\_ratio\_adjusted;}
\DoxyCodeLine{95 }
\DoxyCodeLine{96     \textcolor{keyword}{public}:}
\DoxyCodeLine{97 }
\DoxyCodeLine{101         \mbox{\hyperlink{classhexagon_game_1_1_menu___scene_a93fde006230e9bdc8945cef685165fc1}{Menu\_Scene}}()}
\DoxyCodeLine{102         \{}
\DoxyCodeLine{103             state         = LOADING;}
\DoxyCodeLine{104             suspended     = \textcolor{keyword}{true};}
\DoxyCodeLine{105             menuShowing = \textcolor{keyword}{true};}
\DoxyCodeLine{106             creditsShowing = \textcolor{keyword}{false};}
\DoxyCodeLine{107             optionsShowing = \textcolor{keyword}{false};}
\DoxyCodeLine{108             controlsShowing = \textcolor{keyword}{false};}
\DoxyCodeLine{109             canvas\_width  = 1280;}
\DoxyCodeLine{110             canvas\_height =  720;}
\DoxyCodeLine{111         \}}
\DoxyCodeLine{112 }
\DoxyCodeLine{118         basics::Size2u \mbox{\hyperlink{classhexagon_game_1_1_menu___scene_af91105de5cad1acfa6cdc27ab313d77f}{get\_view\_size}} ()\textcolor{keyword}{ override}}
\DoxyCodeLine{119 \textcolor{keyword}{        }\{}
\DoxyCodeLine{120             \textcolor{keywordflow}{return} \{ canvas\_width, canvas\_height \};}
\DoxyCodeLine{121         \}}
\DoxyCodeLine{122 }
\DoxyCodeLine{126         \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhexagon_game_1_1_menu___scene_ac2e6d956d7d08757d0d01cb9053b2735}{initialize}} ()\textcolor{keyword}{ override}}
\DoxyCodeLine{127 \textcolor{keyword}{        }\{}
\DoxyCodeLine{128             \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \& option : options)}
\DoxyCodeLine{129             \{}
\DoxyCodeLine{130                 option.is\_pressed = \textcolor{keyword}{false};}
\DoxyCodeLine{131             \}}
\DoxyCodeLine{132 }
\DoxyCodeLine{133             \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{134         \}}
\DoxyCodeLine{135 }
\DoxyCodeLine{139         \textcolor{keywordtype}{void} \mbox{\hyperlink{classhexagon_game_1_1_menu___scene_ad78911f6204c8e55ae87d54bc205fb52}{suspend}} ()\textcolor{keyword}{ override}}
\DoxyCodeLine{140 \textcolor{keyword}{        }\{}
\DoxyCodeLine{141             suspended = \textcolor{keyword}{true};}
\DoxyCodeLine{142         \}}
\DoxyCodeLine{143 }
\DoxyCodeLine{147         \textcolor{keywordtype}{void} \mbox{\hyperlink{classhexagon_game_1_1_menu___scene_a479857866f7c6a419cc7385de0f367bf}{resume}} ()\textcolor{keyword}{ override}}
\DoxyCodeLine{148 \textcolor{keyword}{        }\{}
\DoxyCodeLine{149             suspended = \textcolor{keyword}{false};}
\DoxyCodeLine{150         \}}
\DoxyCodeLine{151 }
\DoxyCodeLine{155         \textcolor{keywordtype}{void} \mbox{\hyperlink{classhexagon_game_1_1_menu___scene_aca87101d01384eae169fa28609505b4d}{handle}} (basics::Event \& event)\textcolor{keyword}{ override}}
\DoxyCodeLine{156 \textcolor{keyword}{        }\{}
\DoxyCodeLine{157             \textcolor{keywordflow}{if} (state == READY)                     \textcolor{comment}{// Se descartan los eventos cuando la escena estÃ¡ LOADING}}
\DoxyCodeLine{158             \{}
\DoxyCodeLine{159                 \textcolor{keywordflow}{switch} (event.id)}
\DoxyCodeLine{160                 \{}
\DoxyCodeLine{161                     \textcolor{keywordflow}{case} ID(touch-\/started):         \textcolor{comment}{// El usuario toca la pantalla}}
\DoxyCodeLine{162                     \textcolor{keywordflow}{case} ID(touch-\/moved):}
\DoxyCodeLine{163                     \{}
\DoxyCodeLine{164                         \textcolor{comment}{// Se determina quÃ© opciÃ³n se ha tocado:}}
\DoxyCodeLine{165 }
\DoxyCodeLine{166                         Point2f touch\_location = \{ *\textcolor{keyword}{event}[ID(x)].as< var::Float > (), *event[ID(y)].as< var::Float > () \};}
\DoxyCodeLine{167                         \textcolor{keywordtype}{int}     option\_touched = option\_at (touch\_location);}
\DoxyCodeLine{168 }
\DoxyCodeLine{169                         \textcolor{comment}{// Solo se puede tocar una opciÃ³n a la vez (para evitar selecciones mÃºltiples),}}
\DoxyCodeLine{170                         \textcolor{comment}{// por lo que solo una se considera presionada (el resto se "{}sueltan"{}):}}
\DoxyCodeLine{171 }
\DoxyCodeLine{172                         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} index = 0; index < number\_of\_options; ++index)}
\DoxyCodeLine{173                         \{}
\DoxyCodeLine{174                             options[index].is\_pressed = index == option\_touched;}
\DoxyCodeLine{175                         \}}
\DoxyCodeLine{176 }
\DoxyCodeLine{177                         \textcolor{keywordflow}{break};}
\DoxyCodeLine{178                     \}}
\DoxyCodeLine{179 }
\DoxyCodeLine{180                     \textcolor{keywordflow}{case} ID(touch-\/ended):           \textcolor{comment}{// El usuario deja de tocar la pantalla}}
\DoxyCodeLine{181                     \{}
\DoxyCodeLine{182                         \textcolor{comment}{// Se "{}sueltan"{} todas las opciones:}}
\DoxyCodeLine{183 }
\DoxyCodeLine{184                         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \& option : options) option.is\_pressed = \textcolor{keyword}{false};}
\DoxyCodeLine{185 }
\DoxyCodeLine{186                         \textcolor{comment}{// Se determina quÃ© opciÃ³n se ha dejado de tocar la Ãºltima y se actÃºa como corresponda:}}
\DoxyCodeLine{187 }
\DoxyCodeLine{188                         Point2f touch\_location = \{ *\textcolor{keyword}{event}[ID(x)].as< var::Float > (), *event[ID(y)].as< var::Float > () \};}
\DoxyCodeLine{189 }
\DoxyCodeLine{190                         \textcolor{keywordflow}{if}(menuShowing)}
\DoxyCodeLine{191                         \{}
\DoxyCodeLine{192                             \textcolor{keywordflow}{if} (option\_at (touch\_location) == PLAY)}
\DoxyCodeLine{193                             \{}
\DoxyCodeLine{194                                 director.run\_scene (shared\_ptr< Scene >(\textcolor{keyword}{new} \mbox{\hyperlink{classhexagon_game_1_1_sample___scene}{Sample\_Scene}}));}
\DoxyCodeLine{195                             \}}
\DoxyCodeLine{196 }
\DoxyCodeLine{197                             \textcolor{keywordflow}{if} (option\_at (touch\_location) == HELP)}
\DoxyCodeLine{198                             \{}
\DoxyCodeLine{199                                 controlsShowing = \textcolor{keyword}{true};}
\DoxyCodeLine{200                                 menuShowing = \textcolor{keyword}{false};}
\DoxyCodeLine{201                                 creditsShowing = \textcolor{keyword}{false};}
\DoxyCodeLine{202                             \}}
\DoxyCodeLine{203 }
\DoxyCodeLine{204                             \textcolor{keywordflow}{if} (option\_at (touch\_location) == CREDITS)}
\DoxyCodeLine{205                             \{}
\DoxyCodeLine{206                                 creditsShowing = \textcolor{keyword}{true};}
\DoxyCodeLine{207                                 controlsShowing = \textcolor{keyword}{false};}
\DoxyCodeLine{208                                 menuShowing = \textcolor{keyword}{false};}
\DoxyCodeLine{209                             \}}
\DoxyCodeLine{210                         \}}
\DoxyCodeLine{211                         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(controlsShowing)}
\DoxyCodeLine{212                         \{}
\DoxyCodeLine{213                             controlsShowing = \textcolor{keyword}{false};}
\DoxyCodeLine{214                             menuShowing = \textcolor{keyword}{true};}
\DoxyCodeLine{215                         \}}
\DoxyCodeLine{216                         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(creditsShowing)}
\DoxyCodeLine{217                         \{}
\DoxyCodeLine{218                             menuShowing = \textcolor{keyword}{true};}
\DoxyCodeLine{219                             creditsShowing = \textcolor{keyword}{false};}
\DoxyCodeLine{220                         \}}
\DoxyCodeLine{221 }
\DoxyCodeLine{222                         \textcolor{keywordflow}{break};}
\DoxyCodeLine{223                     \}}
\DoxyCodeLine{224                 \}}
\DoxyCodeLine{225             \}}
\DoxyCodeLine{226         \}}
\DoxyCodeLine{227 }
\DoxyCodeLine{232         \textcolor{keywordtype}{void} \mbox{\hyperlink{classhexagon_game_1_1_menu___scene_a090ea2ab58f0541cf564ff734967a112}{update}} (\textcolor{keywordtype}{float} time)\textcolor{keyword}{ override}}
\DoxyCodeLine{233 \textcolor{keyword}{        }\{}
\DoxyCodeLine{234             \textcolor{keywordflow}{if} (!suspended) \textcolor{keywordflow}{if} (state == LOADING)}
\DoxyCodeLine{235                 \{}
\DoxyCodeLine{236                     Graphics\_Context::Accessor context = director.lock\_graphics\_context ();}
\DoxyCodeLine{237 }
\DoxyCodeLine{238                     \textcolor{keywordflow}{if} (context)}
\DoxyCodeLine{239                     \{}
\DoxyCodeLine{240                         \textcolor{comment}{//Se ajusta el aspect ratio de esta escena}}
\DoxyCodeLine{241                         adjustAspectRatio(context);}
\DoxyCodeLine{242 }
\DoxyCodeLine{243                         \textcolor{comment}{// Se carga el atlas:}}
\DoxyCodeLine{244 }
\DoxyCodeLine{245                         atlas.reset (\textcolor{keyword}{new} Atlas(\textcolor{stringliteral}{"{}menu-\/scene/main-\/menu.sprites"{}}, context));}
\DoxyCodeLine{246 }
\DoxyCodeLine{247                         \textcolor{comment}{// Si el atlas se ha podido cargar el estado es READY y, en otro caso, es ERROR:}}
\DoxyCodeLine{248 }
\DoxyCodeLine{249                         state = atlas-\/>good () ? READY : ERROR;}
\DoxyCodeLine{250 }
\DoxyCodeLine{251                         \textcolor{comment}{// Si el atlas estÃ¡ disponible, se inicializan los datos de las opciones del menÃº:}}
\DoxyCodeLine{252 }
\DoxyCodeLine{253                         \textcolor{keywordflow}{if} (state == READY)}
\DoxyCodeLine{254                         \{}
\DoxyCodeLine{255                             configure\_options ();}
\DoxyCodeLine{256                         \}}
\DoxyCodeLine{257 }
\DoxyCodeLine{258 }
\DoxyCodeLine{259                         \textcolor{comment}{// Se carga la textura de controles:}}
\DoxyCodeLine{260                         controlsTexture = Texture\_2D::create (0, context, \textcolor{stringliteral}{"{}controls.png"{}});}
\DoxyCodeLine{261 }
\DoxyCodeLine{262                         \textcolor{comment}{// Se comprueba si la textura se ha podido cargar correctamente:}}
\DoxyCodeLine{263 }
\DoxyCodeLine{264                         \textcolor{keywordflow}{if} (controlsTexture)}
\DoxyCodeLine{265                         \{}
\DoxyCodeLine{266                             context-\/>add (controlsTexture);}
\DoxyCodeLine{267                         \}}
\DoxyCodeLine{268 }
\DoxyCodeLine{269                         \textcolor{comment}{// Se carga la textura de controles:}}
\DoxyCodeLine{270                         creditsTexture = Texture\_2D::create (1, context, \textcolor{stringliteral}{"{}credits.png"{}});}
\DoxyCodeLine{271 }
\DoxyCodeLine{272                         \textcolor{comment}{// Se comprueba si la textura se ha podido cargar correctamente:}}
\DoxyCodeLine{273 }
\DoxyCodeLine{274                         \textcolor{keywordflow}{if} (creditsTexture)}
\DoxyCodeLine{275                         \{}
\DoxyCodeLine{276                             context-\/>add (creditsTexture);}
\DoxyCodeLine{277                         \}}
\DoxyCodeLine{278 }
\DoxyCodeLine{279                     \}}
\DoxyCodeLine{280                 \}}
\DoxyCodeLine{281         \}}
\DoxyCodeLine{282 }
\DoxyCodeLine{287         \textcolor{keywordtype}{void} \mbox{\hyperlink{classhexagon_game_1_1_menu___scene_a69afb73b307c6a3a9198f8fafada77dc}{render}} (Graphics\_Context::Accessor \& context)\textcolor{keyword}{ override}}
\DoxyCodeLine{288 \textcolor{keyword}{        }\{}
\DoxyCodeLine{289             \textcolor{keywordflow}{if} (!suspended)}
\DoxyCodeLine{290             \{}
\DoxyCodeLine{291                 \textcolor{comment}{// El canvas se puede haber creado previamente, en cuyo caso solo hay que pedirlo:}}
\DoxyCodeLine{292 }
\DoxyCodeLine{293                 Canvas * canvas = context-\/>get\_renderer< Canvas > (ID(canvas));}
\DoxyCodeLine{294 }
\DoxyCodeLine{295                 \textcolor{comment}{// Si no se ha creado previamente, hay que crearlo una vez:}}
\DoxyCodeLine{296 }
\DoxyCodeLine{297                 \textcolor{keywordflow}{if} (!canvas)}
\DoxyCodeLine{298                 \{}
\DoxyCodeLine{299                     canvas = Canvas::create (ID(canvas), context, \{\{ canvas\_width, canvas\_height \}\});}
\DoxyCodeLine{300                 \}}
\DoxyCodeLine{301 }
\DoxyCodeLine{302                 \textcolor{comment}{// Si el canvas se ha podido obtener o crear, se puede dibujar con Ã©l:}}
\DoxyCodeLine{303 }
\DoxyCodeLine{304                 \textcolor{keywordflow}{if} (canvas)}
\DoxyCodeLine{305                 \{}
\DoxyCodeLine{306                     canvas-\/>clear ();}
\DoxyCodeLine{307 }
\DoxyCodeLine{308                     \textcolor{keywordflow}{if} (state == READY)}
\DoxyCodeLine{309                     \{}
\DoxyCodeLine{310                         \textcolor{keywordflow}{if}(menuShowing)}
\DoxyCodeLine{311                         \{}
\DoxyCodeLine{312                             \textcolor{comment}{// Se dibuja el slice de cada una de las opciones del menÃº:}}
\DoxyCodeLine{313                             \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \& option : options)}
\DoxyCodeLine{314                             \{}
\DoxyCodeLine{315                                 canvas-\/>set\_transform}
\DoxyCodeLine{316                                         (}
\DoxyCodeLine{317                                                 scale\_then\_translate\_2d}
\DoxyCodeLine{318                                                         (}
\DoxyCodeLine{319                                                                 option.is\_pressed ? 0.75f : 1.f,              \textcolor{comment}{// Escala de la opciÃ³n}}
\DoxyCodeLine{320                                                                 \{ option.position[0], option.position[1] \}      \textcolor{comment}{// TraslaciÃ³n}}
\DoxyCodeLine{321                                                         )}
\DoxyCodeLine{322                                         );}
\DoxyCodeLine{323 }
\DoxyCodeLine{324                                 canvas-\/>fill\_rectangle (\{ 0.f, 0.f \}, \{ option.slice-\/>width, option.slice-\/>height \}, option.slice, CENTER | TOP);}
\DoxyCodeLine{325                             \}}
\DoxyCodeLine{326 }
\DoxyCodeLine{327                             \textcolor{comment}{// Se restablece la transformaciÃ³n aplicada a las opciones para que no afecte a}}
\DoxyCodeLine{328                             \textcolor{comment}{// dibujos posteriores realizados con el mismo canvas:}}
\DoxyCodeLine{329 }
\DoxyCodeLine{330                             canvas-\/>set\_transform (Transformation2f());}
\DoxyCodeLine{331                         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(controlsShowing)}
\DoxyCodeLine{332                         \{}
\DoxyCodeLine{333                             \textcolor{keywordflow}{if} (controlsTexture)}
\DoxyCodeLine{334                             \{}
\DoxyCodeLine{335                                 showControls(canvas);}
\DoxyCodeLine{336                             \}}
\DoxyCodeLine{337                         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(creditsShowing)}
\DoxyCodeLine{338                         \{}
\DoxyCodeLine{339                             \textcolor{keywordflow}{if} (controlsTexture)}
\DoxyCodeLine{340                             \{}
\DoxyCodeLine{341                                 showCredits(canvas);}
\DoxyCodeLine{342                             \}}
\DoxyCodeLine{343                         \}}
\DoxyCodeLine{344                     \}}
\DoxyCodeLine{345                 \}}
\DoxyCodeLine{346             \}}
\DoxyCodeLine{347         \}}
\DoxyCodeLine{348 }
\DoxyCodeLine{349     \textcolor{keyword}{private}:}
\DoxyCodeLine{350 }
\DoxyCodeLine{354         \textcolor{keywordtype}{void} configure\_options ()}
\DoxyCodeLine{355         \{}
\DoxyCodeLine{356             \textcolor{comment}{// Se asigna un slice del atlas a cada opciÃ³n del menÃº segÃºn su ID:}}
\DoxyCodeLine{357 }
\DoxyCodeLine{358             options[PLAY   ].slice = atlas-\/>get\_slice (ID(play)   );}
\DoxyCodeLine{359             options[HELP   ].slice = atlas-\/>get\_slice (ID(help)   );}
\DoxyCodeLine{360             options[CREDITS].slice = atlas-\/>get\_slice (ID(credits));}
\DoxyCodeLine{361 }
\DoxyCodeLine{362             \textcolor{comment}{// Se calcula la altura total del menÃº:}}
\DoxyCodeLine{363 }
\DoxyCodeLine{364             \textcolor{keywordtype}{float} menu\_height = 0;}
\DoxyCodeLine{365 }
\DoxyCodeLine{366             \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \& option : options) menu\_height += option.slice-\/>height;}
\DoxyCodeLine{367 }
\DoxyCodeLine{368             \textcolor{comment}{// Se calcula la posiciÃ³n del borde superior del menÃº en su conjunto de modo que}}
\DoxyCodeLine{369             \textcolor{comment}{// quede centrado verticalmente:}}
\DoxyCodeLine{370 }
\DoxyCodeLine{371             \textcolor{keywordtype}{float} option\_top = canvas\_height / 2.f + menu\_height / 2.f;}
\DoxyCodeLine{372 }
\DoxyCodeLine{373             \textcolor{comment}{// Se establece la posiciÃ³n del borde superior de cada opciÃ³n:}}
\DoxyCodeLine{374 }
\DoxyCodeLine{375             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} index = 0; index < number\_of\_options; ++index)}
\DoxyCodeLine{376             \{}
\DoxyCodeLine{377                 options[index].position = Point2f\{ canvas\_width / 2.f, option\_top \};}
\DoxyCodeLine{378 }
\DoxyCodeLine{379                 option\_top -\/= options[index].slice-\/>height;}
\DoxyCodeLine{380             \}}
\DoxyCodeLine{381 }
\DoxyCodeLine{382             \textcolor{comment}{// Se restablece la presiÃ³n de cada opciÃ³n:}}
\DoxyCodeLine{383 }
\DoxyCodeLine{384             \mbox{\hyperlink{classhexagon_game_1_1_menu___scene_ac2e6d956d7d08757d0d01cb9053b2735}{initialize}} ();}
\DoxyCodeLine{385         \}}
\DoxyCodeLine{386 }
\DoxyCodeLine{392         \textcolor{keywordtype}{int} option\_at (\textcolor{keyword}{const} Point2f \& point)}
\DoxyCodeLine{393         \{}
\DoxyCodeLine{394             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} index = 0; index < number\_of\_options; ++index)}
\DoxyCodeLine{395             \{}
\DoxyCodeLine{396                 \textcolor{keyword}{const} Option \& option = options[index];}
\DoxyCodeLine{397 }
\DoxyCodeLine{398                 \textcolor{keywordflow}{if}}
\DoxyCodeLine{399                         (}
\DoxyCodeLine{400                         point[0] > option.position[0] -\/ option.slice-\/>width  \&\&}
\DoxyCodeLine{401                         point[0] < option.position[0] + option.slice-\/>width  \&\&}
\DoxyCodeLine{402                         point[1] > option.position[1] -\/ option.slice-\/>height \&\&}
\DoxyCodeLine{403                         point[1] < option.position[1] + option.slice-\/>height}
\DoxyCodeLine{404                         )}
\DoxyCodeLine{405                 \{}
\DoxyCodeLine{406                     \textcolor{keywordflow}{return} index;}
\DoxyCodeLine{407                 \}}
\DoxyCodeLine{408             \}}
\DoxyCodeLine{409 }
\DoxyCodeLine{410             \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{411         \}}
\DoxyCodeLine{412 }
\DoxyCodeLine{413         \textcolor{keywordtype}{void} showControls(Canvas * canvas)}
\DoxyCodeLine{414         \{}
\DoxyCodeLine{415             \textcolor{keywordflow}{if} (controlsTexture)}
\DoxyCodeLine{416             \{}
\DoxyCodeLine{417                 canvas-\/>fill\_rectangle}
\DoxyCodeLine{418                         (}
\DoxyCodeLine{419                                 \{ canvas\_width * .5f, canvas\_height * .5f \},}
\DoxyCodeLine{420                                 \{ controlsTexture-\/>get\_width (), controlsTexture-\/>get\_height () \},}
\DoxyCodeLine{421                                 controlsTexture. get ()}
\DoxyCodeLine{422                         );}
\DoxyCodeLine{423             \}}
\DoxyCodeLine{424         \}}
\DoxyCodeLine{425 }
\DoxyCodeLine{426         \textcolor{keywordtype}{void} showCredits(Canvas * canvas)}
\DoxyCodeLine{427         \{}
\DoxyCodeLine{428             \textcolor{keywordflow}{if} (creditsTexture)}
\DoxyCodeLine{429             \{}
\DoxyCodeLine{430                 canvas-\/>fill\_rectangle}
\DoxyCodeLine{431                         (}
\DoxyCodeLine{432                                 \{ canvas\_width * .5f, canvas\_height * .5f \},}
\DoxyCodeLine{433                                 \{ creditsTexture-\/>get\_width (), creditsTexture-\/>get\_height () \},}
\DoxyCodeLine{434                                 creditsTexture. get ()}
\DoxyCodeLine{435                         );}
\DoxyCodeLine{436             \}}
\DoxyCodeLine{437         \}}
\DoxyCodeLine{438 }
\DoxyCodeLine{439         \textcolor{keywordtype}{void} adjustAspectRatio(Graphics\_Context::Accessor \& context)}
\DoxyCodeLine{440         \{}
\DoxyCodeLine{441             \textcolor{keywordflow}{if} (!aspect\_ratio\_adjusted)}
\DoxyCodeLine{442             \{}
\DoxyCodeLine{443 }
\DoxyCodeLine{444                 \textcolor{keywordtype}{float} real\_aspect\_ratio = float( context-\/>get\_surface\_width () ) / context-\/>get\_surface\_height ();}
\DoxyCodeLine{445 }
\DoxyCodeLine{446                 canvas\_width = unsigned( canvas\_height * real\_aspect\_ratio );}
\DoxyCodeLine{447 }
\DoxyCodeLine{448                 aspect\_ratio\_adjusted = \textcolor{keyword}{true};}
\DoxyCodeLine{449             \}}
\DoxyCodeLine{450         \}}
\DoxyCodeLine{451     \};}
\DoxyCodeLine{452 }
\DoxyCodeLine{453 }
\DoxyCodeLine{454 \}}

\end{DoxyCode}
